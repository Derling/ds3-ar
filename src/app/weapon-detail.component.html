<div *ngFor="let w of _weapon" style="width:auto;">
	<div class="basic_data" style="display:inline; float:left;">
		<table>
			<tbody>
			<tr id=1>
				<th rowspan='7' >
					<img  style='height: 100%;margin:0; object-fit:contain;' src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/{{w.url}}.png" alt='e'>
					<h2>{{w.name}}</h2>
					<img title="type"  src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/weapon_type-icon.jpg" alt='e'>
					<h3 style="display:inline">{{w.basic_data.wep_type}}</h3>
					<div *ngIf="w.basic_data.infusable === '!0'" style="float:right;">
						<select [(ngModel)]="infIndex" (change)="changeInfusion()">
							<option *ngFor="let inf of infusions; let i=index" value={{i}}>{{inf}}</option>
						</select>
					</div>
				</th>
				<th>
					Class:
				</th>
				<th>
					<select style="dispaly:inline;" [(ngModel)]="currentClass" (change)="update()">
						<option *ngFor="let c of _classes; let i = index" value={{i}}>{{c.class}}</option>
					</select>
				</th>
				<th>
					Stats
				<th>
			</tr>
			<tr id=2>
				<td style="text-align:center;">
					Level :
				</td>
				<td style="text-align:center;">
					{{_classes[currentClass].level}}
				</td>
				<td style="text-align:center;">
					{{this.currentLevel}}
				</td>
			</tr>
			<tr id=3>
				<td >
					<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/icon-wp_physicalAttack.png" alt='e'>						
					{{floor(base_dmgs.physical)}}
				</td>
				<td style="text-align:center;">
					<img style="margin-left:auto;" src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/STR.jpg" alt='e'>
					{{stats.str}}
				</td>
				<td>
					<button (click)="statChange('str',1)">+</button>
					<button (click)="statChange('str',-1)">-</button>
				</td>
			</tr>
			<tr id=3>
					<td>
						<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/icon-magicbonus.png" alt='e'>
						{{floor(base_dmgs.magic)}}
					</td>
					<td style="text-align:center;">
						<img style="margin:auto;" src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/DEX.jpg" alt='e'>
						{{stats.dex}}
					</td>
					<td>
						<button (click)="statChange('dex',1)">+</button>
						<button (click)="statChange('dex',-1)">-</button>
					</td>
			</tr>
			<tr id=4>
				<td>
					<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/icon-firebonus.png" alt='e'>
					{{floor(base_dmgs.fire)}}
				</td>
				<td style="text-align:center;">
					<img style="margin:auto;" src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/INT.jpg" alt='e'>
					{{stats.int}}
				</td>
				<td>
					<button (click)="statChange('int',1)">+</button>
					<button (click)="statChange('int',-1)">-</button>
				</td>
			</tr>
			<tr id=5>
				<td>
					<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/icon-lightningbonus.png" alt='e'>
					{{floor(base_dmgs.lightning)}}
				</td>
				<td style="text-align:center;">
					<img style="margin:auto;" src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/FTH.jpg" alt='e'>
					{{stats.faith}}
				</td>
				<td>
					<button (click)="statChange('faith',1)">+</button>
					<button (click)="statChange('faith',-1)">-</button>
				</td>
			</tr>
			<tr id=6>
				<td>
					<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/icon-darkbonus.png" alt='e'>
					{{floor(base_dmgs.dark)}}
				</td>
				<td style="text-align:center;">
					<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/luck.jpg" alt="err">
					{{stats.luck}}
				</td>
				<td>
					<button (click)="statChange('luck',1)">+</button>
					<button (click)="statChange('luck',-1)">-</button>
				</td>
			</tr>  
			<tr id=6>
				<td style="text-align:center;">
					<strong>Requirements</strong>
				</td>
				<td colspan='4'>
					<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/STR.jpg" alt='e'>
					{{w.basic_data.str_req}}
					<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/DEX.jpg" alt='e'>
					{{w.basic_data.dex_req}}
					<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/INT.jpg" alt='e'>
					{{w.basic_data.int_req}}
					<img src="http://darksouls3.wiki.fextralife.com/file/Dark-Souls-3/FTH.jpg" alt='e'>
					{{w.basic_data.faith_req}}
				</td>
			</tr>
			<tr>
				<td colspan='2' style='text-align:center;'> 
					<h1> Attack Rating: </h1>
				</td>
				<div *ngIf="evaluateStats() else notreq">
				<td> 
					<h2 title='AR: {{calculator.totalDmg}} | Phys: {{floor(base_dmgs.physical)}}+{{round(calculator.bonusPhysical)}} | Magic: {{floor(base_dmgs.magic)}}+{{round(calculator.bonusMagic)}} | Fire: {{floor(base_dmgs.fire)}}+{{round(calculator.bonusFire)}} | Lightning: {{floor(base_dmgs.lightning)}}+{{round(calculator.bonusLightning)}} | Dark: {{floor(base_dmgs.dark)}}+{{round(calculator.bonusDark)}}'>{{round(calculator.totalDmg)}}</h2>
				</td>
				</div>
				<ng-template #notreq>
				<td colspan='3'> 
					Requirements not met
				</td>
				</ng-template>
			</tr>
			</tbody>
		</table>
	</div>
</div>